<!doctype html>

<h1>Test Download Links</h1>
<form onSubmit="addExtraExt(); return false">
Add an extension: <input type="text" id="extraExt">
<input type=submit value="Add"><p>
</form>
<ol id="myList">
</ol>

<script>

function addExtraExt() {
  var ext = document.getElementById("extraExt");
  addExtension(ext.value);
  ext.value = "";
}

function addExtension(ext) {
  var filename = "download." + ext;
  var path = "nothing.foo";

  var node = document.createElement('li');

  var link = document.createElement('a');
  link.setAttribute('href', path);
  link.setAttribute('download', filename);
  link.innerHTML = filename
  node.appendChild(link);

  document.getElementById("myList").appendChild(node);
  return false;
}

function generateLinks() {
  var exts = [
    "swf",
    "exe",
    "torrent",
    "rar",
    "crx",
    "xml",
    "7z",
    "eml",
    "msg",
    "dmg",
    "iso",
    "zip",
    "pkg",
    "dll"
      ];
  exts.forEach(function(ext) {
    addExtension(ext);
  }
  );
}
function onLoad() {
  generateLinks();
  document.getElementById("extraExt").focus();
}

window.onload = onLoad()
</script>
